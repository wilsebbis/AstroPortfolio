---
import Section from "./Section.astro";
---

<Section id="case-study" class="py-24 relative overflow-hidden">
    <!-- Background Decor -->
    <div
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-accent-secondary/5 rounded-full blur-[120px] -z-10"
    >
    </div>

    <div class="max-w-6xl mx-auto px-8">
        <div class="mb-16 md:text-center max-w-3xl mx-auto">
            <p
                class="text-accent-primary font-mono uppercase tracking-widest mb-4"
            >
                0 â†’ 1 Ownership
            </p>
            <h2
                class="font-display text-3xl md:text-5xl font-bold tracking-tight mb-6"
            >
                Case Study: Model Iteration Platform
            </h2>
            <p class="text-lg text-text-secondary leading-relaxed">
                How I built an end-to-end training & evaluation pipeline in 4
                weeks, reducing model iteration time from days to minutes.
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
            <!-- Timeline -->
            <div class="space-y-8">
                <!-- Week 1 -->
                <div class="relative pl-8 border-l border-white/10">
                    <div
                        class="absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-accent-tertiary"
                    >
                    </div>
                    <h3 class="font-display text-xl font-bold mb-2">
                        Week 1: Baseline & Instrumentation
                    </h3>
                    <p class="text-text-secondary text-sm leading-relaxed mb-4">
                        Defined specific KPIs (latency &lt; 50ms, accuracy >
                        90%). Set up basic logging and reproduced the SOTA paper
                        baseline.
                    </p>
                    <div class="flex gap-2">
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >MLflow Setup</span
                        >
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >DVC Init</span
                        >
                    </div>
                </div>

                <!-- Week 2 -->
                <div class="relative pl-8 border-l border-white/10">
                    <div
                        class="absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-accent-secondary"
                    >
                    </div>
                    <h3 class="font-display text-xl font-bold mb-2">
                        Week 2: Training Harness
                    </h3>
                    <p class="text-text-secondary text-sm leading-relaxed mb-4">
                        Built a modular training loop decoupled from data
                        loading. Implemented spot instance orchestration to cut
                        cloud costs by 60%.
                    </p>
                    <div class="flex gap-2">
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >Ray Tune</span
                        >
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >AWS Spot</span
                        >
                    </div>
                </div>

                <!-- Week 3 -->
                <div class="relative pl-8 border-l border-white/10">
                    <div
                        class="absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-accent-primary"
                    >
                    </div>
                    <h3 class="font-display text-xl font-bold mb-2">
                        Week 3: Deploy & Monitor
                    </h3>
                    <p class="text-text-secondary text-sm leading-relaxed mb-4">
                        Containerized inference service (ONNX runtime). Deployed
                        to K8s with a shadow mode to validate against legacy
                        system.
                    </p>
                    <div class="flex gap-2">
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >Docker</span
                        >
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >FastAPI</span
                        >
                    </div>
                </div>

                <!-- Week 4 -->
                <div class="relative pl-8 border-l-2 border-accent-primary/50">
                    <div
                        class="absolute left-[-6px] top-0 w-3 h-3 rounded-full bg-accent-primary shadow-[0_0_10px_rgba(var(--color-accent-primary),0.5)]"
                    >
                    </div>
                    <h3 class="font-display text-xl font-bold mb-2 text-white">
                        Week 4: Iteration & Impact
                    </h3>
                    <p class="text-text-secondary text-sm leading-relaxed mb-4">
                        Full rollout. Enabled team to run 15 experiments/day.
                        Improved core metric by 12% through rapid hyperparam
                        tuning.
                    </p>
                    <div
                        class="p-3 bg-accent-primary/10 border border-accent-primary/20 rounded-lg"
                    >
                        <p class="text-sm font-semibold text-accent-primary">
                            Outcome: Time-to-learning reduced from 2 days to 3
                            hours.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Tradeoffs & Stack -->
            <div class="space-y-8">
                <div class="glass-card p-8">
                    <h3 class="font-display text-xl font-bold mb-6">
                        Key Tradeoffs
                    </h3>
                    <ul class="space-y-4">
                        <li class="flex items-start gap-3 text-sm">
                            <span class="text-accent-secondary shrink-0"
                                >vs</span
                            >
                            <span class="text-text-secondary">
                                <strong class="text-white"
                                    >Postgres over Vector DB:</strong
                                >
                                Chose pgvector for simplicity. Dedicated vector DB
                                added unnecessary ops overhead for &lt;1M vectors.
                            </span>
                        </li>
                        <li class="flex items-start gap-3 text-sm">
                            <span class="text-accent-secondary shrink-0"
                                >vs</span
                            >
                            <span class="text-text-secondary">
                                <strong class="text-white"
                                    >Batch over Streaming:</strong
                                >
                                Implemented daily batch training instead of online
                                learning to ensure stability and reproducibility first.
                            </span>
                        </li>
                    </ul>
                </div>

                <div
                    class="glass-card p-8 bg-accent-primary/5 border-accent-primary/10"
                >
                    <h3 class="font-display text-xl font-bold mb-4">
                        What I Cut (Scope Discipline)
                    </h3>
                    <p class="text-sm text-text-secondary leading-relaxed mb-4">
                        "Perfect is the enemy of shipped."
                    </p>
                    <ul
                        class="list-disc list-inside space-y-2 text-sm text-text-secondary"
                    >
                        <li>No fancy UI (CLI only for v1)</li>
                        <li>No automated retraining (manual trigger)</li>
                        <li>
                            Single-node training only (no distributed
                            complexity)
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</Section>
