---
import Section from "./Section.astro";
---

<Section id="case-study" class="py-24 relative overflow-hidden">
    <!-- Background Decor -->
    <div
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-accent-secondary/5 rounded-full blur-[120px] -z-10"
    >
    </div>

    <div class="max-w-6xl mx-auto px-8">
        <div class="mb-16 md:text-center max-w-3xl mx-auto">
            <p
                class="text-accent-primary font-mono uppercase tracking-widest mb-4"
            >
                0 → 1 Ownership
            </p>
            <h2
                class="font-display text-3xl md:text-5xl font-bold tracking-tight mb-6"
            >
                Case Study: Failure-Aware ML System
            </h2>
            <p class="text-lg text-text-secondary leading-relaxed">
                How I built a cost-sensitive classification pipeline that
                reduced manual review by 68% while maintaining &gt;96% recall on
                high-risk outcomes.
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
            <!-- Timeline -->
            <div class="space-y-8">
                <!-- Phase 1 -->
                <div class="relative pl-8 border-l border-white/10">
                    <div
                        class="absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-accent-tertiary"
                    >
                    </div>
                    <h3 class="font-display text-xl font-bold mb-2">
                        Phase 1: Problem Framing & Data
                    </h3>
                    <p class="text-text-secondary text-sm leading-relaxed mb-4">
                        Framed the problem as asymmetric loss optimization, not
                        accuracy. Loaded 1.3M Lending Club records with
                        stratified train/val/test splits.
                    </p>
                    <div class="flex gap-2">
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >pandas</span
                        >
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >scikit-learn</span
                        >
                    </div>
                </div>

                <!-- Phase 2 -->
                <div class="relative pl-8 border-l border-white/10">
                    <div
                        class="absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-accent-secondary"
                    >
                    </div>
                    <h3 class="font-display text-xl font-bold mb-2">
                        Phase 2: Cascade Architecture
                    </h3>
                    <p class="text-text-secondary text-sm leading-relaxed mb-4">
                        Built two-stage inference: Logistic Regression
                        gatekeeper for fast "easy" decisions, XGBoost specialist
                        for uncertain cases.
                    </p>
                    <div class="flex gap-2">
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >XGBoost</span
                        >
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >Threshold Tuning</span
                        >
                    </div>
                </div>

                <!-- Phase 3 -->
                <div class="relative pl-8 border-l border-white/10">
                    <div
                        class="absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-accent-primary"
                    >
                    </div>
                    <h3 class="font-display text-xl font-bold mb-2">
                        Phase 3: Three-Way Triage
                    </h3>
                    <p class="text-text-secondary text-sm leading-relaxed mb-4">
                        Implemented Pass/Defer/Reject decision policy. Optimized
                        thresholds for expected business loss, not accuracy.
                    </p>
                    <div class="flex gap-2">
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >Cost Matrix</span
                        >
                        <span
                            class="text-[10px] font-mono px-2 py-1 bg-white/5 rounded border border-white/10 text-text-secondary"
                            >Calibration</span
                        >
                    </div>
                </div>

                <!-- Phase 4 -->
                <div class="relative pl-8 border-l-2 border-accent-primary/50">
                    <div
                        class="absolute left-[-6px] top-0 w-3 h-3 rounded-full bg-accent-primary shadow-[0_0_10px_rgba(var(--color-accent-primary),0.5)]"
                    >
                    </div>
                    <h3 class="font-display text-xl font-bold mb-2 text-white">
                        Phase 4: Validation & Impact
                    </h3>
                    <p class="text-text-secondary text-sm leading-relaxed mb-4">
                        Validated on held-out test set. System achieves 98.7%
                        recall while automating 67% of decisions—68% reduction
                        in manual review.
                    </p>
                    <div
                        class="p-3 bg-accent-primary/10 border border-accent-primary/20 rounded-lg"
                    >
                        <p class="text-sm font-semibold text-accent-primary">
                            Outcome: 32% reduction in high-cost false negatives
                            with bounded precision trade-offs.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Tradeoffs & Stack -->
            <div class="space-y-8">
                <div class="glass-card p-8">
                    <h3 class="font-display text-xl font-bold mb-6">
                        Key Tradeoffs
                    </h3>
                    <ul class="space-y-4">
                        <li class="flex items-start gap-3 text-sm">
                            <span class="text-accent-secondary shrink-0"
                                >vs</span
                            >
                            <span class="text-text-secondary">
                                <strong class="text-white"
                                    >Threshold Policy over Model Complexity:</strong
                                >
                                Decision policy dominates representation under asymmetric
                                loss. Tuning thresholds beat adding model layers.
                            </span>
                        </li>
                        <li class="flex items-start gap-3 text-sm">
                            <span class="text-accent-secondary shrink-0"
                                >vs</span
                            >
                            <span class="text-text-secondary">
                                <strong class="text-white"
                                    >Cascade over Single Model:</strong
                                >
                                Two-stage inference lets fast gatekeeper handle easy
                                cases, reserving expensive specialist for uncertain
                                inputs.
                            </span>
                        </li>
                        <li class="flex items-start gap-3 text-sm">
                            <span class="text-accent-secondary shrink-0"
                                >vs</span
                            >
                            <span class="text-text-secondary">
                                <strong class="text-white"
                                    >Defer over Force Decision:</strong
                                >
                                Three-way triage (Pass/Defer/Reject) acknowledges
                                uncertainty rather than forcing bad predictions.
                            </span>
                        </li>
                    </ul>
                </div>

                <div
                    class="glass-card p-8 bg-accent-primary/5 border-accent-primary/10"
                >
                    <h3 class="font-display text-xl font-bold mb-4">
                        What I Cut (Scope Discipline)
                    </h3>
                    <p class="text-sm text-text-secondary leading-relaxed mb-4">
                        "Optimize for decision quality, not model
                        sophistication."
                    </p>
                    <ul
                        class="list-disc list-inside space-y-2 text-sm text-text-secondary"
                    >
                        <li>
                            No deep learning (XGBoost sufficient for tabular)
                        </li>
                        <li>
                            No real-time inference (batch decisions OK for
                            credit)
                        </li>
                        <li>
                            No automated retraining (concept drift v2 roadmap)
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</Section>
